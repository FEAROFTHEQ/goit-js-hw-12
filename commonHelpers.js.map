{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchImages = (key, tagWord) =>{\n    return fetch(`https://pixabay.com/api/?key=${key}&q=${encodeURIComponent(tagWord)}&image_type=photo&orientation=horizontal&safesearch=true`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n          return data.hits;\n    })\n    .catch(error => {\n          console.log(error);\n    });\n}\n\n","export const renderImages = (images, container)=>{\n    container.innerHTML = '';\n    const markup =\n    images.map(image=>\n        `\n        <li class=\"item\">\n  <a class=\"link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"image\"\n      src=\"${image.webformatURL}\"\n      alt=\"${image.tags}\"\n    />\n  </a>\n  <div class=\"desc-container\">\n  <p class=\"descr\"><span class=\"descr-text\">Likes </span>${image.likes}</p>\n  <p class=\"descr\"><span class=\"descr-text\">Views </span>${image.views}</p>\n  <p class=\"descr\"><span class=\"descr-text\">Comments </span>${image.comments}</p>\n  <p class=\"descr\"><span class=\"descr-text\">Downloads </span>${image.downloads}</p>\n  </div>\n       </li>\n        `\n    ).join(\"\");\n\n\ncontainer.insertAdjacentHTML(\"afterbegin\", markup);\n\n}\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\n\nconst key = \"44686774-01236c387d1eefb9bce1c8eeb\";\nconst form = document.querySelector('.form');\nconst input = document.querySelector(\".search-input\");\nconst container = document.querySelector(\".images-container\");\nconst loader = document.querySelector(\".loader\");\nconst lightbox = new SimpleLightbox('.images-container a', {\n    captions: true,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250\n});\n\nform.addEventListener(\"submit\", searchImages);\n\nfunction searchImages(event){\n   event.preventDefault();\n   const tagWord = getTagWord();\n   if(tagWord){\n    container.innerHTML = '';\n    showLoader();\n    fetchImages(key, tagWord)\n    .then(images =>{\n        hideLoader();\n        if (images.length === 0){\n            container.innerHTML = '';\n            iziToast.error({\n                title: 'No images',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position:'topRight',\n            });\n            return;\n        }\n        renderImages(images, container);\n        lightbox.refresh();\n    })\n    .catch(error => {\n        iziToast.error({\n            title: 'Error!',\n            message: 'Failed to fetch images',\n            position: 'topRight',\n        });\n    });\n   }\n}\n\nfunction getTagWord(){\n    const tagWord = input.value;\n    if(tagWord.trim() === \"\"){\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter word',\n        });\n        return null;};\n\n    return tagWord;\n       \n}\n\nfunction showLoader() {\n    loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n    loader.style.display = 'none';\n}\n\n\n"],"names":["fetchImages","key","tagWord","response","data","error","renderImages","images","container","markup","image","form","input","loader","lightbox","SimpleLightbox","searchImages","event","getTagWord","showLoader","hideLoader","iziToast"],"mappings":"6vBAAO,MAAMA,EAAc,CAACC,EAAKC,IACtB,MAAM,gCAAgCD,CAAG,MAAM,mBAAmBC,CAAO,CAAC,0DAA0D,EAC1I,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACOA,EAAK,IACjB,EACA,MAAMC,GAAS,CACV,QAAQ,IAAIA,CAAK,CAC3B,CAAK,ECbQC,EAAe,CAACC,EAAQC,IAAY,CAC7CA,EAAU,UAAY,GACtB,MAAMC,EACNF,EAAO,IAAIG,GACP;AAAA;AAAA,0BAEkBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGhCA,EAAM,YAAY;AAAA,aAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,2DAIoCA,EAAM,KAAK;AAAA,2DACXA,EAAM,KAAK;AAAA,8DACRA,EAAM,QAAQ;AAAA,+DACbA,EAAM,SAAS;AAAA;AAAA;AAAA,SAI9E,EAAM,KAAK,EAAE,EAGbF,EAAU,mBAAmB,aAAcC,CAAM,CAEjD,ECnBMR,EAAM,qCACNU,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,eAAe,EAC9CJ,EAAY,SAAS,cAAc,mBAAmB,EACtDK,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,IAAIC,EAAe,sBAAuB,CACvD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaC,EAAM,CACzBA,EAAM,eAAc,EACpB,MAAMf,EAAUgB,IACbhB,IACFM,EAAU,UAAY,GACtBW,IACAnB,EAAYC,EAAKC,CAAO,EACvB,KAAKK,GAAS,CAEX,GADAa,IACIb,EAAO,SAAW,EAAE,CACpBC,EAAU,UAAY,GACtBa,EAAS,MAAM,CACX,MAAO,YACP,QAAS,2EACT,SAAS,UACzB,CAAa,EACD,MACH,CACDf,EAAaC,EAAQC,CAAS,EAC9BM,EAAS,QAAO,CACxB,CAAK,EACA,MAAMT,GAAS,CACZgB,EAAS,MAAM,CACX,MAAO,SACP,QAAS,yBACT,SAAU,UACtB,CAAS,CACT,CAAK,EAEL,CAEA,SAASH,GAAY,CACjB,MAAMhB,EAAUU,EAAM,MACtB,OAAGV,EAAQ,KAAM,IAAK,IAClBmB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mBACrB,CAAS,EACM,MAEJnB,CAEX,CAEA,SAASiB,GAAa,CAClBN,EAAO,MAAM,QAAU,OAC3B,CAEA,SAASO,GAAa,CAClBP,EAAO,MAAM,QAAU,MAC3B"}